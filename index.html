<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mind Reader ‚Äî Web</title>
<style>
  :root{
    --bg:#f4f6f8;
    --card:#ffffff;
    --accent:#5b7cff;
    --muted:#6b7280;
    --success:#16a34a;
    --shadow: 0 8px 30px rgba(18,24,40,0.06);
    --glass: rgba(255,255,255,0.6);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#eef2ff 0%, #f4f6f8 100%);color:#0f172a}
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
  .card{
    width:360px;background:var(--card);border-radius:14px;padding:22px;box-shadow:var(--shadow);
    border:1px solid rgba(15,23,42,0.04);
  }
  h1{font-size:18px;margin:0 0 10px}
  p.sub{margin:0 0 16px;color:var(--muted);font-size:13px}
  .row{display:flex;gap:8px}
  input[type=number]{
    flex:1;padding:10px 12px;border-radius:8px;border:1px solid #e6e9ef;font-size:15px;
    outline:none;background:linear-gradient(180deg,#fff,#fbfdff);
  }
  input[type=number]:focus{box-shadow:0 0 0 4px rgba(91,124,255,0.06);border-color:var(--accent)}
  button{
    background:var(--accent);color:#fff;border:0;padding:10px 12px;border-radius:8px;font-weight:600;
    cursor:pointer;font-size:14px;min-width:110px;
  }
  button:disabled{opacity:0.52;cursor:default}
  footer{margin-top:12px;color:var(--muted);font-size:12px;text-align:center}

  /* modal */
  .overlay{position:fixed;inset:0;background:rgba(7,12,20,0.45);display:none;align-items:center;justify-content:center;z-index:50}
  .modal{
    width:380px;background:var(--card);border-radius:12px;padding:18px;box-shadow:0 20px 50px rgba(2,6,23,0.4);
    border:1px solid rgba(15,23,42,0.06);text-align:center;
  }
  .status{font-size:14px;color:#0f172a;min-height:26px;margin-bottom:12px}
  .muted{color:var(--muted);font-size:13px}
  .progress-outer{height:12px;background:#eef2ff;border-radius:999px;overflow:hidden;margin:10px 0 6px}
  .progress-inner{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#7bc0ff);transition:width 0.12s linear}
  .small{font-size:12px;color:var(--muted)}

  /* result modal */
  .result-box{display:flex;flex-direction:column;align-items:center;gap:10px;padding-top:6px}
  .result-number{font-size:28px;font-weight:700;color:var(--accent)}
  .btn-row{display:flex;gap:8px;margin-top:8px}

  @media (max-width:420px){
    .card{width:92%}
    .modal{width:92%}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <h1>Mind Reader</h1>
      <p class="sub">Think of a number between <strong>1</strong> and <strong>100</strong>, then type it below (shh ‚Äî I won't peek).</p>

      <div class="row" style="margin-bottom:12px">
        <input id="numInput" type="number" min="1" max="100" placeholder="Your secret number" />
        <button id="readBtn">Read My Mind</button>
      </div>

      <div style="display:flex;justify-content:center">
        <button id="surpriseBtn" style="background:#10b981;border-radius:8px;padding:8px 10px;font-size:13px">Surprise mode</button>
      </div>

      <footer>Made by Mohit with Love ‚ù§</footer>
    </div>
  </div>

  <!-- Overlay / Modal -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div id="modalTitle" class="status" aria-live="polite"></div>
      <div class="progress-outer" aria-hidden="true">
        <div id="progressInner" class="progress-inner"></div>
      </div>
      <div class="small muted" id="percentText">0%</div>
      <div style="height:6px"></div>
      <div class="muted" id="hintText">Reading neural signatures‚Ä¶</div>
    </div>
  </div>

  <!-- Result modal (separate small modal overlay) -->
  <div id="resultOverlay" class="overlay" aria-hidden="true" style="align-items:center">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="result-box">
        <div class="muted">Mind Reading Complete</div>
        <div class="result-number" id="resultNumber">42</div>
        <div class="small muted">That was easy üòé</div>
        <div class="btn-row">
          <button id="okBtn">OK</button>
          <button id="againBtn" style="background:#eef2ff;color:#0f172a">Try Another</button>
        </div>
      </div>
    </div>
  </div>

<script>
(() => {
  const readBtn = document.getElementById('readBtn');
  const surpriseBtn = document.getElementById('surpriseBtn');
  const numInput = document.getElementById('numInput');
  const overlay = document.getElementById('overlay');
  const modalStatus = document.getElementById('modalTitle');
  const progressInner = document.getElementById('progressInner');
  const percentText = document.getElementById('percentText');
  const hintText = document.getElementById('hintText');
  const resultOverlay = document.getElementById('resultOverlay');
  const resultNumber = document.getElementById('resultNumber');
  const okBtn = document.getElementById('okBtn');
  const againBtn = document.getElementById('againBtn');

  // more dramatic messages including quantum/crypto lines
  const MESSAGES = [
    "Reading your brain waves...",
    "Scanning thought templates...",
    "Decoding neural activity...",
    "Engaging quantum correlator‚Ä¶",
    "Mapping entangled memory nodes‚Ä¶",
    "Cracking probabilistic keyspace (simulated)...",
    "Cross-checking against cached patterns...",
    "Optimizing guess confidence...",
    "Calibrating 256-bit decryption heuristic...",
    "Almost there..."
  ];

  const HINTS = [
    "Analyzing synaptic patterns‚Ä¶",
    "Tuning into short-term memory‚Ä¶",
    "Filtering noise from thoughts‚Ä¶",
    "Matching templates to choices‚Ä¶",
    "Entangling probability vectors‚Ä¶",
    "Quantum entangler engaged‚Ä¶",
    "Running simulated 256-bit crypto check‚Ä¶",
    "Brute-forcing confidence matrix (simulated)‚Ä¶",
    "Optimizing guess confidence‚Ä¶",
    "Synchronizing with your mental clock‚Ä¶",
    "Rebalancing probability amplitudes‚Ä¶"
  ];

  let messageIndex = 0;
  let typingTimer = null;
  let progressTimer = null;
  let currentPercent = 0;
  let targetNumber = null;
  let surpriseMode = false;

  // control variables to tune "realism"
  const SLOWDOWN_THRESHOLD = 80; // after this percent we slow more
  const LONG_PAUSE_PROB = 0.18;  // chance of a long dramatic pause
  const LONG_PAUSE_MIN = 600;    // ms
  const LONG_PAUSE_MAX = 1500;   // ms

  function startMindRead(guessed) {
    targetNumber = guessed;
    surpriseMode = false;
    readBtn.disabled = true;
    numInput.disabled = true;
    overlay.style.display = "flex";
    progressInner.style.width = "0%";
    percentText.textContent = "0%";
    currentPercent = 0;
    messageIndex = 0;
    modalStatus.textContent = "";
    hintText.textContent = "Initializing neural link‚Ä¶";

    startTypingLoop();
    startProgressLoop();
  }

  function startTypingLoop() {
    if (typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
    const msg = MESSAGES[messageIndex];
    typeText(modalStatus, msg, 0, 25, () => {
      // longer pause when message references quantum/crypto to add drama
      const extraPause = /quantum|256|decryption|entangler|brute/i.test(msg) ? 900 : 600;
      typingTimer = setTimeout(() => {
        messageIndex = (messageIndex + 1) % MESSAGES.length;
        if (overlay.style.display === 'flex') startTypingLoop();
      }, extraPause);
    });
  }

  function typeText(el, text, i, speed, cb) {
    el.textContent = text.slice(0, i);
    if (i < text.length) {
      typingTimer = setTimeout(() => typeText(el, text, i + 1, speed, cb), speed);
    } else {
      cb && cb();
    }
  }

  function startProgressLoop() {
    // we implement non-linear and stage-based pacing
    const tick = () => {
      // if overlay closed, stop
      if (overlay.style.display !== 'flex') return;

      // dramatic long pause occasionally
      if (Math.random() < chanceOfLongPause()) {
        const longDelay = randInt(LONG_PAUSE_MIN, LONG_PAUSE_MAX);
        // show a dramatic hint during pause
        hintText.textContent = randomHint();
        progressTimer = setTimeout(() => {
          // continue after pause
          if (overlay.style.display === 'flex') tick();
        }, longDelay);
        return;
      }

      if (currentPercent >= 100) {
        // add a final dramatic pause before revealing result
        finishMindRead();
        return;
      }

      const r = Math.random();
      let step;

      if (currentPercent < 40) {
        // quick start
        step = (r < 0.8) ? randInt(2,6) : randInt(6,12);
      } else if (currentPercent < 60) {
        step = (r < 0.75) ? randInt(1,4) : randInt(3,7);
      } else if (currentPercent < SLOWDOWN_THRESHOLD) {
        step = (r < 0.7) ? randInt(1,3) : randInt(2,5);
      } else {
        // after threshold, much slower and more cautious
        step = (r < 0.85) ? randInt(0,1) : randInt(1,2);
      }

      // ensure tiny jitter so it doesn't feel robotic
      if (step === 0 && Math.random() < 0.4) {
        // a small "no change" tick that still updates hint
        hintText.textContent = randomHint();
      } else {
        currentPercent = Math.min(100, currentPercent + step);
        progressInner.style.width = currentPercent + '%';
        percentText.textContent = currentPercent + '%';
      }

      // more likely to change hint as we advance
      if (Math.random() < 0.28) hintText.textContent = randomHint();

      // variable delay: much larger delays when near the end
      let delay;
      if (currentPercent < 60) {
        delay = randInt(40, 200);
      } else if (currentPercent < SLOWDOWN_THRESHOLD) {
        delay = randInt(90, 260);
      } else {
        // after threshold take noticeably longer to move each percent
        delay = randInt(180, 520);
      }

      // tiny added stretch for super-realism: occasional extra long delay after 90%
      if (currentPercent >= 90 && Math.random() < 0.25) delay += randInt(300, 900);

      progressTimer = setTimeout(tick, delay);
    };

    tick();
  }

  function chanceOfLongPause(){
    // Slightly dynamic: more long pauses the closer we are to completion
    const base = LONG_PAUSE_PROB;
    const extra = Math.max(0, (currentPercent - 70) / 200); // small extra chance after 70%
    return base + extra;
  }

  function finishMindRead() {
    if (typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
    if (progressTimer) { clearTimeout(progressTimer); progressTimer = null; }

    // final suspense: take a little longer if we slowed down a lot
    const finalPause = 800 + Math.floor((100 - Math.min(100, currentPercent)) * 8);
    setTimeout(() => {
      overlay.style.display = "none";
      showResult(targetNumber);
      readBtn.disabled = false;
      numInput.disabled = false;
    }, finalPause);
  }

  function showResult(n) {
    resultNumber.textContent = String(n);
    resultOverlay.style.display = "flex";
  }

  function hideResult() {
    resultOverlay.style.display = "none";
  }

  function randomHint() {
    return HINTS[randInt(0, HINTS.length - 1)];
  }

  function randInt(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }

  // Validate input and launch
  readBtn.addEventListener('click', () => {
    const v = numInput.value.trim();
    if (!v) { alert("Type a number between 1 and 100 (this is just for fun)."); return; }
    const n = Number(v);
    if (!Number.isInteger(n)) { alert("Please enter a valid integer."); return; }
    if (n < 1 || n > 100) { alert("Andha hai kaya laude...."); return; }
    startMindRead(n);
  });

  // Surprise mode: don't require user input (random guess)
  surpriseBtn.addEventListener('click', () => {
    const n = randInt(1,100);
    surpriseMode = true;
    targetNumber = n;
    readBtn.disabled = true;
    numInput.disabled = true;
    overlay.style.display = "flex";
    progressInner.style.width = "0%";
    percentText.textContent = "0%";
    currentPercent = 0;
    messageIndex = 0;
    modalStatus.textContent = "";
    hintText.textContent = "Engaging surprise heuristic‚Ä¶";
    startTypingLoop();
    startProgressLoop();
  });

  // Result modal buttons
  okBtn.addEventListener('click', () => {
    hideResult();
  });
  againBtn.addEventListener('click', () => {
    hideResult();
    numInput.value = "";
    numInput.focus();
  });

  // Accessibility: close modals on Escape
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      if (overlay.style.display === 'flex') {
        overlay.style.display = 'none';
        readBtn.disabled = false;
        numInput.disabled = false;
        if (typingTimer) { clearTimeout(typingTimer); typingTimer = null; }
        if (progressTimer) { clearTimeout(progressTimer); progressTimer = null; }
      } else if (resultOverlay.style.display === 'flex') {
        hideResult();
      }
    }
  });

})();
</script>
</body>
</html>
